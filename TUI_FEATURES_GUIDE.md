# TUI機能ガイド - 脅威情報収集の全設定

## 🎯 TUIで設定可能な項目

### 1. 基本設定
- ✅ **監視間隔**（分単位）
- ✅ **動作モード**（simulation/production）
- ✅ **最大アラート数**（1サイクルあたり）
- ✅ **重複除去**（ON/OFF）
- ✅ **ログレベル**（DEBUG/INFO/WARNING/ERROR）
- ✅ **データ保持期間**（日数）

### 2. フィルター設定
- ✅ **信頼度しきい値**（0-100%）
- ✅ **優先ターゲットのみ**（ON/OFF）
- ✅ **重要度レベル**（HIGH/MEDIUM/LOW/INFO）

### 3. 情報収集ソース（全10種類）
- ✅ **Web Scraping**（Google検索）
- ✅ **Twitter監視**（Nitter経由）
- ✅ **Torディレクトリ**
- ✅ **セキュリティニュース**
- ✅ **Ahmia**（Tor検索エンジン）
- ✅ **Pastebin監視**
- ✅ **GitHub Gists**
- ✅ **Reddit監視**
- ✅ **Telegram監視**
- ✅ **シミュレーションフォールバック**

### 4. 外部API設定
- ✅ **Nitterインスタンス管理**（追加/削除/編集）
- ✅ **セキュリティサイト管理**（URL設定）
- ✅ **Torディレクトリ管理**（ミラーサイト）

### 5. APIキー管理
- ✅ **DarkOwl APIキー**
- ✅ **SpyCloud APIキー**
- ✅ **IntelligenceX APIキー**
- ✅ **Shodan APIキー**
- ✅ **HIBP APIキー**

### 6. Slack通知設定
- ✅ **通知ON/OFF**
- ✅ **Webhook URL設定**
- ✅ **重要度フィルター**（どのレベルを通知するか）
- ✅ **テスト通知送信**

### 7. ストレージ設定
- ✅ **Elasticsearch**（ホスト、ポート、インデックス）
- ✅ **ローカルDB**（SQLiteパス）

### 8. プロキシ設定
- ✅ **プロキシON/OFF**
- ✅ **タイプ**（SOCKS5/HTTP）
- ✅ **ホスト・ポート**
- ✅ **認証情報**（ユーザー名・パスワード）

### 9. 監視対象企業管理
- ✅ **企業名リスト**（追加/削除/編集）
- ✅ **ドメインリスト**（追加/削除/編集）
- ✅ **キーワードリスト**（追加/削除/編集）

### 10. 優先度設定
- ✅ **各企業の優先度**（HIGH/MEDIUM/NORMAL）
- ✅ **カテゴリ設定**（金融、製造、通信など）

### 11. システム管理
- ✅ **ヘルスチェック**（環境診断）
- ✅ **ログ表示**（最新ログ確認）
- ✅ **統計情報**（監視状況）
- ✅ **設定のエクスポート/インポート**

## 🚀 TUIの起動方法

### 基本版TUI（シンプル）
```bash
source venv/bin/activate && python tui_config.py
```

### 拡張版TUI（全機能）
```bash
source venv/bin/activate && python tui_config_advanced.py
```

## 📊 比較表

| 機能 | 基本版TUI | 拡張版TUI |
|------|-----------|-----------|
| 基本設定 | ✅ | ✅ |
| 情報ソース切替 | ✅ 5種類 | ✅ 10種類 |
| Slack設定 | ✅ 基本 | ✅ 詳細フィルター |
| プロキシ設定 | ✅ 基本 | ✅ 認証対応 |
| 企業管理 | 閲覧のみ | ✅ 追加/編集/削除 |
| 優先度設定 | ❌ | ✅ |
| APIキー管理 | ❌ | ✅ |
| 外部API設定 | ❌ | ✅ |
| フィルター設定 | ❌ | ✅ |
| ストレージ設定 | ❌ | ✅ |
| ヘルスチェック | ❌ | ✅ |
| ログ表示 | ❌ | ✅ |
| 統計情報 | ❌ | ✅ |
| エクスポート/インポート | ❌ | ✅ |

## 💡 使い分けガイド

### 基本版TUIを使う場合
- クイック設定したい
- 基本的な監視設定のみ変更
- シンプルな操作を好む

### 拡張版TUIを使う場合
- 脅威情報収集の全設定を管理したい
- 外部APIエンドポイントをカスタマイズ
- 企業リストを頻繁に更新
- 詳細なフィルタリング設定が必要
- 複数環境の設定を管理（エクスポート/インポート）

## 🔧 高度な設定例

### 1. 金融機関向け設定
```
- 優先度: 金融機関をすべてHIGH
- フィルター: 信頼度90%以上
- 重要度: HIGHとMEDIUMのみ通知
- ソース: 信頼できるソースのみ有効
```

### 2. 製造業向け設定
```
- 優先度: 主要取引先をHIGH
- フィルター: 信頼度75%以上
- 重要度: すべて通知
- ソース: 技術情報漏洩に強いソース
```

### 3. テスト環境設定
```
- モード: simulation
- 間隔: 5分（頻繁にテスト）
- Slack: テストチャンネルに送信
- フィルター: すべて通過
```

## 📝 注意事項

1. **設定の保存**
   - 変更は「設定を保存して終了」を選択するまで反映されません
   - 重要な変更前にエクスポートでバックアップ推奨

2. **APIキー**
   - 本番環境では必ず本物のAPIキーを設定
   - キーは暗号化されずに保存されるため注意

3. **ネットワーク設定**
   - Tor使用時は事前にTorサービスを起動
   - プロキシ設定は環境に合わせて調整

これで、TUIから脅威情報収集に関わるすべての設定が可能になりました！